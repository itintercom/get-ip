<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>IP Detector</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <h2>üì° –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ IP...</h2>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        tg.ready();

        // –ü–æ–ª—É—á–∞–µ–º IP
        fetch('https://api.ipify.org?format=json')
            .then(r => r.json())
            .then(data => {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ WebApp API
                const ipData = {
                    ip: data.ip,
                    timestamp: new Date().toISOString()
                };
                
                tg.sendData(JSON.stringify(ipData));
                
                document.body.innerHTML = '<h2>‚úÖ IP –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Telegram!</h2><p>' + data.ip + '</p>';
                
                // –ó–∞–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    tg.close();
                }, 2000);
            })
            .catch(error => {
                document.body.innerHTML = '<h2>‚ùå –û—à–∏–±–∫–∞: ' + error.message + '</h2>';
            });
    </script>
</body>
</html>
